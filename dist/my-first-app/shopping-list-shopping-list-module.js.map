{"version":3,"sources":["./src/app/shopping-list/shopping-list.component.html","./src/app/shopping-list/shopping-list.module.ts","./src/app/shopping-list/shopping-edit/shopping-edit.component.ts","./src/app/shopping-list/shopping-edit/shopping-edit.component.html","./src/app/shopping-list/shopping-edit/shopping-edit.component.css","./src/app/shopping-list/shopping-list.component.css","./src/app/shopping-list/shopping-list.component.ts"],"names":[],"mappings":"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","file":"shopping-list-shopping-list-module.js","sourcesContent":["export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-xs-10\\\">\\n    <app-shopping-edit></app-shopping-edit>\\n    <hr />\\n    <div class=\\\"list-group\\\">\\n      <a class=\\\"list-group-item\\\" style=\\\"cursor: pointer\\\" *ngFor=\\\"let ingredient of ingredients; let i = index\\\" (click)=\\\"onEditItem(i)\\\"\\n        >{{ ingredient.name }} ({{ ingredient.amount }})</a\\n      >\\n    </div>\\n  </div>\\n</div>\\n\";","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { ShoppingListComponent } from './shopping-list.component';\r\nimport { ShoppingEditComponent } from './shopping-edit/shopping-edit.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [ShoppingListComponent, ShoppingEditComponent],\r\n  imports: [SharedModule, FormsModule, RouterModule.forChild([{ path: '', component: ShoppingListComponent }])]\r\n})\r\nexport class ShoppingListModule {}\r\n","import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\nimport { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { Ingredient } from 'src/app/shared/ingredient.model';\nimport { ShoppingListService } from '../shopping-list.service';\n\n@Component({\n  selector: 'app-shopping-edit',\n  templateUrl: './shopping-edit.component.html',\n  styleUrls: ['./shopping-edit.component.css']\n})\nexport class ShoppingEditComponent implements OnInit, OnDestroy {\n  @ViewChild('f', { static: false }) slForm: NgForm;\n  subscription: Subscription;\n  editMode = false;\n  editedItemIndex: number;\n  editedItem: Ingredient;\n\n  constructor(private slService: ShoppingListService) {}\n\n  ngOnInit() {\n    this.subscription = this.slService.startEditing.subscribe((index: number) => {\n      this.editedItemIndex = index;\n      this.editMode = true;\n      this.editedItem = this.slService.getIngredient(index);\n      this.slForm.setValue({\n        name: this.editedItem.name,\n        amount: this.editedItem.amount\n      });\n    });\n  }\n\n  onSubmit(form: NgForm) {\n    // 这里不用参数，直接用slForm似乎也行\n    const value = form.value;\n    const newIngredient = new Ingredient(value.name, value.amount);\n    if (this.editedItem) {\n      this.slService.updateIngredient(this.editedItemIndex, newIngredient);\n    } else {\n      this.slService.addIngredient(newIngredient);\n    }\n    this.editMode = false;\n    form.reset();\n  }\n\n  onClear() {\n    this.slForm.reset();\n    this.editMode = false;\n  }\n\n  onDelete() {\n    this.slService.deleteIngredient(this.editedItemIndex);\n    this.onClear();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-xs-12\\\">\\n    <form (ngSubmit)=\\\"onSubmit(f)\\\" #f=\\\"ngForm\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-5 form-group\\\">\\n          <label for=\\\"name\\\">Name</label>\\n          <input type=\\\"text\\\" id=\\\"name\\\" class=\\\"form-control\\\" name=\\\"name\\\" ngModel required />\\n        </div>\\n        <div class=\\\"col-sm-2 form-group\\\">\\n          <label for=\\\"amount\\\">Amount</label>\\n          <input type=\\\"number\\\" id=\\\"amount\\\" class=\\\"form-control\\\" name=\\\"amount\\\" ngModel required [pattern]=\\\"'^[1-9]+[0-9]*$'\\\" />\\n        </div>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-xs-12\\\">\\n          <button class=\\\"btn btn-success\\\" type=\\\"submit\\\" [disabled]=\\\"!f.valid\\\">\\n            {{ this.editMode ? 'Update' : 'Add' }}\\n          </button>\\n          <button class=\\\"btn btn-danger\\\" type=\\\"button\\\" (click)=\\\"onDelete()\\\" *ngIf=\\\"this.editMode\\\">Delete</button>\\n          <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" (click)=\\\"onClear()\\\">Clear</button>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n\";","export default \"\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG9wcGluZy1lZGl0LmNvbXBvbmVudC5jc3MifQ== */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG9wcGluZy1saXN0LmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Ingredient } from '../shared/ingredient.model';\r\nimport { ShoppingListService } from './shopping-list.service';\r\n\r\n@Component({\r\n  selector: 'app-shopping-list',\r\n  templateUrl: './shopping-list.component.html',\r\n  styleUrls: ['./shopping-list.component.css']\r\n})\r\nexport class ShoppingListComponent implements OnInit, OnDestroy {\r\n  ingredients: Ingredient[];\r\n  private subscription: Subscription;\r\n\r\n  constructor(private slService: ShoppingListService) {}\r\n\r\n  ngOnInit() {\r\n    this.ingredients = this.slService.getIngredients();\r\n    this.subscription = this.slService.ingredientsChanged.subscribe((ingredientsInput: Ingredient[]) => {\r\n      this.ingredients = ingredientsInput;\r\n    });\r\n  }\r\n\r\n  onEditItem(Index: number) {\r\n    this.slService.startEditing.next(Index);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}